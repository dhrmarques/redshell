<!DOCTYPE html>
<html>
<head>
  <title>RedShell</title>
  <%= stylesheet_link_tag    'application', media: 'all'%>
  <%= javascript_include_tag 'application'%>
	<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.5/css/jquery.dataTables.css">
	<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.5/js/jquery.dataTables.js"></script>
  <%= csrf_meta_tags %>
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
				<nav class="text-center">
					<% ApplicationHelper.menu_items.each do |mi| %>
					<li>
						<% cls = mi.to_s.classify.constantize %>
						<%= link_to "<i class=\"fa fa-#{cls.icon}\"></i> #{cls.label}".html_safe, polymorphic_path(mi), class: "btn btn-xs btn-info" %>
					</li>
					<% end %>
				</nav>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<% if employee_signed_in? %>
					<div class="pull-right">
						<span>Bem vindo, <%= current_employee.name %></span>
						<%= link_to '<i class="fa fa-sign-out"></i> Sair'.html_safe, destroy_employee_session_path, method: :delete, class: "btn btn-default" %>
					</div>
					<div class="clearfix"></div>
				<% end %>

				<%= yield %>
			</div>
		</div>
	</div>

	<script type="text/javascript">
	  var orderingArray = []
	  $(".js-data-tables th").each(function(){
	    if($(this).hasClass("no-order")){
	      orderingArray.push({ "orderable": false });
	    } else {
	      orderingArray.push(null);
	    }
	  });
	  var dataTable = $('.js-data-tables').DataTable( {
	    pageLength: 10,
	    "columns": orderingArray,
	    "oLanguage": {
				"sEmptyTable": "Não há registros.",
				"sInfo": "Mostrando resultados _START_ até _END_. Total: _TOTAL_",
				"sInfoEmpty": "Não há resultados.",
				"sZeroRecords": "Não há registros.",
				"sInfoFiltered": "Resultados filtrados de _MAX_ registros.",
				"sLengthMenu": "_MENU_ itens por página",
				"sLoadingRecords": "Carregando...",
				"sProcessing": "Os serviços estão ocupados no momento, tente mais tarde.",
				"sSearch": "Busca _INPUT_",
				"oPaginate": {
					"sNext": ">",
					"sPrevious": "<"
				}
			}
	  });
	</script>
</body>
</html>
